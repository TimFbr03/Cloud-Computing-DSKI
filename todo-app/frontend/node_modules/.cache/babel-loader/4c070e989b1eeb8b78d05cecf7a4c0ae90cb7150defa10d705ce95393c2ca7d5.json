{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3001';function App(){const[todos,setTodos]=useState([]);const[newTodo,setNewTodo]=useState({title:'',description:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');// Fetch todos from API\nconst fetchTodos=async()=>{try{setLoading(true);const response=await axios.get(`${API_URL}/api/todos`);setTodos(response.data);setError('');}catch(err){setError('Failed to fetch todos');console.error('Error fetching todos:',err);}finally{setLoading(false);}};// Create new todo\nconst createTodo=async e=>{e.preventDefault();if(!newTodo.title.trim())return;try{const response=await axios.post(`${API_URL}/api/todos`,newTodo);setTodos([response.data,...todos]);setNewTodo({title:'',description:''});setError('');}catch(err){setError('Failed to create todo');console.error('Error creating todo:',err);}};// Toggle todo completion\nconst toggleTodo=async(id,completed)=>{try{const todo=todos.find(t=>t.id===id);const response=await axios.put(`${API_URL}/api/todos/${id}`,{...todo,completed:!completed});setTodos(todos.map(t=>t.id===id?response.data:t));setError('');}catch(err){setError('Failed to update todo');console.error('Error updating todo:',err);}};// Delete todo\nconst deleteTodo=async id=>{try{await axios.delete(`${API_URL}/api/todos/${id}`);setTodos(todos.filter(t=>t.id!==id));setError('');}catch(err){setError('Failed to delete todo');console.error('Error deleting todo:',err);}};useEffect(()=>{fetchTodos();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todo App\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createTodo,className:\"todo-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Todo title...\",value:newTodo.title,onChange:e=>setNewTodo({...newTodo,title:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description (optional)...\",value:newTodo.description,onChange:e=>setNewTodo({...newTodo,description:e.target.value}),rows:\"3\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Todo\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading todos...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"todo-list\",children:todos.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:\"No todos yet. Add one above!\"}):todos.map(todo=>/*#__PURE__*/_jsxs(\"div\",{className:`todo-item ${todo.completed?'completed':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"todo-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:todo.title}),todo.description&&/*#__PURE__*/_jsx(\"p\",{children:todo.description}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Created: \",new Date(todo.created_at).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"todo-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleTodo(todo.id,todo.completed),className:`toggle-btn ${todo.completed?'completed':''}`,children:todo.completed?'✓':'○'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTodo(todo.id),className:\"delete-btn\",children:\"Delete\"})]})]},todo.id))})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","App","todos","setTodos","newTodo","setNewTodo","title","description","loading","setLoading","error","setError","fetchTodos","response","get","data","err","console","createTodo","e","preventDefault","trim","post","toggleTodo","id","completed","todo","find","t","put","map","deleteTodo","delete","filter","className","children","onSubmit","type","placeholder","value","onChange","target","required","rows","length","Date","created_at","toLocaleString","onClick"],"sources":["/Users/alinafrank/Documents/Uni/Semester3-4/Cloud-Computing/Cloud-Computing-DSKI/todo-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [newTodo, setNewTodo] = useState({ title: '', description: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Fetch todos from API\n  const fetchTodos = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/api/todos`);\n      setTodos(response.data);\n      setError('');\n    } catch (err) {\n      setError('Failed to fetch todos');\n      console.error('Error fetching todos:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Create new todo\n  const createTodo = async (e) => {\n    e.preventDefault();\n    if (!newTodo.title.trim()) return;\n\n    try {\n      const response = await axios.post(`${API_URL}/api/todos`, newTodo);\n      setTodos([response.data, ...todos]);\n      setNewTodo({ title: '', description: '' });\n      setError('');\n    } catch (err) {\n      setError('Failed to create todo');\n      console.error('Error creating todo:', err);\n    }\n  };\n\n  // Toggle todo completion\n  const toggleTodo = async (id, completed) => {\n    try {\n      const todo = todos.find(t => t.id === id);\n      const response = await axios.put(`${API_URL}/api/todos/${id}`, {\n        ...todo,\n        completed: !completed\n      });\n      setTodos(todos.map(t => t.id === id ? response.data : t));\n      setError('');\n    } catch (err) {\n      setError('Failed to update todo');\n      console.error('Error updating todo:', err);\n    }\n  };\n\n  // Delete todo\n  const deleteTodo = async (id) => {\n    try {\n      await axios.delete(`${API_URL}/api/todos/${id}`);\n      setTodos(todos.filter(t => t.id !== id));\n      setError('');\n    } catch (err) {\n      setError('Failed to delete todo');\n      console.error('Error deleting todo:', err);\n    }\n  };\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <h1>Todo App</h1>\n        \n        {error && <div className=\"error\">{error}</div>}\n        \n        <form onSubmit={createTodo} className=\"todo-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Todo title...\"\n            value={newTodo.title}\n            onChange={(e) => setNewTodo({ ...newTodo, title: e.target.value })}\n            required\n          />\n          <textarea\n            placeholder=\"Description (optional)...\"\n            value={newTodo.description}\n            onChange={(e) => setNewTodo({ ...newTodo, description: e.target.value })}\n            rows=\"3\"\n          />\n          <button type=\"submit\">Add Todo</button>\n        </form>\n\n        {loading ? (\n          <div className=\"loading\">Loading todos...</div>\n        ) : (\n          <div className=\"todo-list\">\n            {todos.length === 0 ? (\n              <div className=\"empty-state\">No todos yet. Add one above!</div>\n            ) : (\n              todos.map(todo => (\n                <div key={todo.id} className={`todo-item ${todo.completed ? 'completed' : ''}`}>\n                  <div className=\"todo-content\">\n                    <h3>{todo.title}</h3>\n                    {todo.description && <p>{todo.description}</p>}\n                    <small>Created: {new Date(todo.created_at).toLocaleString()}</small>\n                  </div>\n                  <div className=\"todo-actions\">\n                    <button \n                      onClick={() => toggleTodo(todo.id, todo.completed)}\n                      className={`toggle-btn ${todo.completed ? 'completed' : ''}`}\n                    >\n                      {todo.completed ? '✓' : '○'}\n                    </button>\n                    <button \n                      onClick={() => deleteTodo(todo.id)}\n                      className=\"delete-btn\"\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}